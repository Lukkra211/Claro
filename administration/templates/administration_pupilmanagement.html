{% extends "base.html" %}
{% block title%} Správa studentů {% endblock %}
{% load static %}
{% block custom_css %}
  <link rel="stylesheet" href="{% static "css/style.css" %}">
{% endblock %}
{% block content %}
      {# Start of sidebar #}
      <aside class="main-sidebar">
        {# Here are defined lists and items in the sidebar #}
        <section class="sidebar">
          {# Main navigation #}
          <ul class="sidebar-menu" data-widget="tree">
            <li class="header">HLAVNÍ NAVIGACE</li>
            {# Start - Votes app list #}
            <li class="treeview active">
            <li class="treeview">
              <a href="#">
                <i class="fa fa-group"></i> <span>Administrace</span>
              </a>
              {# Votes app list - submenu #}
              <ul class="treeview-menu">
                <li><a href="electionmanagement"><i class="fa fa-circle-o"></i> Správa voleb</a></li>
                <li class="active"><a href="pupilmanagement"><i class="fa fa-circle-o"></i>Správa studentů</a></li>
              </ul>
            </li>
            {# End - Votes app list #}
            {# Start - Administration app list #}
            {# ... #}
            {# End - Administration app list #}
          </ul>
          {% block custom_sidebar_list %}
          {% endblock %}
        </section>
      </aside>
      {# End of sidebar #}
      {% if election == False %}
      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <input type="file" name="myfile" required>
        <button type="submit">Nahrát</button>
      </form>
      {% else %}
        <div class="alert alert-warning alert-dismissible fade in">
          <a href="#" class="close" data-dismiss="alert" aria-label="close">X</a>
          <strong>Upozornění!</strong> Není možné nahrávat nové studenty pokud probíhají volby
        </div>
      {% endif %}
      <div class="row">
        <div class="col-sm-6"><span class="glyphicon glyphicon-plus glyphiconplus" data-toggle="modal" data-target="#createNewElectionModal"></span></div>
        <div class="col-sm-6"><input type="text" class="searchInput" placeholder="Vyhledávání"></div>
      </div>



      <!-- Modal -->
      <div id="createNewElectionModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">Nový student</h4>
            </div>
            <div class="modal-body">
              <form action="/action_page.php">
                <div class="form-group">
                  <label for="election_name">Jméno studenta:</label>
                  <input type="text" class="form-control" id="election_name" required/>
                </div>
                <div class="form-group">
                  <label for="election_start">Třída(Zkratka):</label>
                  <input type="text" class="form-control" id="election_start" required/>
                </div>
                <input type="submit" class="btn btn-default" value="Přidat studenta"/>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Zavřít</button>
            </div>
          </div>
        </div>
      </div>
        <table class="table">
          <thead>
            <tr>
              <th>Jméno studenta</th>
              <th>Třída</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{election.name}}</td>
              <td>{{election.vote_start_time}}</td>
              <td>{{election.vote_end_time}}</td>
              <td>{{election.vote_rounds}}</td>
              <td><span class="glyphicon glyphicon-wrench glyphiconwrench" data-toggle="modal" data-target="#manageElectionModal"></span></td>
              <td><span class="glyphicon glyphicon-minus glyphiconminus"></span></td>
            </tr>
          </tbody>
        </table>
<!-- Modal -->
      <div id="manageElectionModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">Upravit studenta</h4>
            </div>
            <div class="modal-body">
              <form action="/action_page.php">
                <div class="form-group">
                  <label for="election_name_new">Jméno studenta:</label>
                  <input type="text" class="form-control" id="election_name_new" required/>
                </div>
                <div class="form-group">
                  <label for="election_end_new">Třída:</label>
                  <input type="text" class="form-control" id="election_end_new" required/>
                </div>
                <input type="submit" class="btn btn-default" value="Uložit změny"/>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Zavřít</button>
            </div>
          </div>
{% endblock %}
